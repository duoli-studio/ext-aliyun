## 模型/策略

### 模型注释
模型需要有完备的文档注释, 日期格式和文字说明, 并且需要参数和注释对齐

使用 `ide-helper` 生成模型文档语法
```
$ php artisan ide-helper:model "System\Models\PamAccount"
```

注释实例
```
/**
 * System\Models\PamAccount
 *
 * @property int               $id
 * @property Carbon            $logined_at         注册时间
 * @property integer           $login_times        登录次数
 * @property string            $reg_ip             注册IP
 * @property string            $is_enable
 * @property \Carbon\Carbon    $created_at
 * @property \Carbon\Carbon    $updated_at
 * @property string            $remember_token
 * @property string            $email              邮箱
 * @property string            $disable_reason     禁用原因
 * @property string|null       $disable_start_at   禁用开始时间
 * @property string|null       $disable_end_at     禁用结束时间
 */
class PamAccount extends \Eloquent
{
	...
}
```
时间说明
存储为 datetime 类型的数字放到 $dates 数组中

### 策略

策略放置在 `{module}/src/models/polices` 文件夹中

策略映射放在 `{module}/src/ServiceProvider.php` 文件中, 如下定义

```
protected $policies = [
    PamRole::class    => RolePolicy::class,
    PamAccount::class => AccountPolicy::class,
];
```


## 事件

事件放置在模块中的 `events` 文件夹中, 监听器放在 `listeners` 文件中

1. 事件命名是 DoWhatEvent
2. 数据的修饰符为 public ,无需定义 get 方法
3. 事件需要继承 Poppy\Framework\Application\Event
4. 事件监听器必须为 DoWhatListener, 事件中需要体现 监听器的作用,并且必须是 Listener 后缀

事件监听放在 `{module}/src/ServiceProvider.php` 文件中, 如下定义

```
protected $listens = [
    'System\Event\LoginSuccessEvent'              => [
        'System\Listeners\LoginSuccess\LogListener',
    ],
]
```


